MPASM 03.70 Released                                POKUS.ASM   5-1-2006  18:07:54         PAGE  1


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00001 ;*****************************************************************************************************
                      00002 ;  hodiny s nastavenim bez nastaveni budiku
                      00003 ;*****************************************************************************************************
                      00004 ;       ................................................................................................
                            ..
                      00005 ;       Definice symbolu
                      00006 ;       ................................................................................................
                            ..
                      00007                                 list            p=16F877A                               ; deklarece proc
                            esoru
                      00008                                 include         "d:\p16f877a.inc"               ; deklarece registru
                      00001         LIST
                      00002 ; P16F877A.INC  Standard Header File, Version 1.00    Microchip Technology, Inc.
                      00398         LIST
2007   3F31           00009                                 __config        3F31h                                   ; konfiguracni p
                            ojistky
                      00010 ;       ................................................................................................
                            ..
Warning[207]: Found label after column 1. (vteriny)
  00000022            00011                                 vteriny         equ             22h
Warning[207]: Found label after column 1. (disp1)
  00000023            00012                                 disp1           equ             23h
Warning[207]: Found label after column 1. (disp2)
  00000025            00013                                 disp2           equ             25h
Warning[207]: Found label after column 1. (disp3)
  00000024            00014                                 disp3           equ             24h
Warning[207]: Found label after column 1. (disp4)
  00000026            00015                                 disp4           equ             26h
Warning[207]: Found label after column 1. (pordisp)
  00000027            00016                                 pordisp         equ             27h
Warning[207]: Found label after column 1. (sec)
  00000028            00017                                 sec                     equ             28h
                      00018 
Warning[207]: Found label after column 1. (pre1)
  00000029            00019                                 pre1            equ             29h
Warning[207]: Found label after column 1. (pre2)
  0000002A            00020                                 pre2            equ             2ah
Warning[207]: Found label after column 1. (wreg)
  0000002B            00021                                 wreg            equ             2bh     
                      00022 
Warning[207]: Found label after column 1. (pombity)
  00000021            00023                                 pombity         equ             21h
Warning[207]: Found label after column 1. (reg2)
  0000002C            00024                                 reg2            equ             2ch
Warning[207]: Found label after column 1. (reg1)
  0000002D            00025                                 reg1            equ             2dh
Warning[207]: Found label after column 1. (pom)
  0000002E            00026                                 pom                     equ             2eh
Warning[207]: Found label after column 1. (pom2)
  0000002F            00027                                 pom2            equ             2fh     
                      00028 
Warning[207]: Found label after column 1. (budik1)
  00000033            00029                                 budik1          equ             33h
MPASM 03.70 Released                                POKUS.ASM   5-1-2006  18:07:54         PAGE  2


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

Warning[207]: Found label after column 1. (budik2)
  00000034            00030                                 budik2          equ             34h
Warning[207]: Found label after column 1. (budik3)
  00000035            00031                                 budik3          equ             35h
Warning[207]: Found label after column 1. (budik4)
  00000036            00032                                 budik4          equ             36h     
                      00033 ; new                           
Warning[207]: Found label after column 1. (port)
  00000030            00034                                 port            equ             30h
Warning[207]: Found label after column 1. (pred)
  00000031            00035                                 pred            equ             31h
Warning[207]: Found label after column 1. (cekani)
  00000032            00036                                 cekani          equ             32h
                      00037 ;       ................................................................................................
                            ..
                      00038                                 #define         rp0             STATUS,5                ; volba stranky 
                            pameti dat
                      00039                                 #define         c               STATUS,0                ; carry
                      00040                                 #define         z               STATUS,2                ; zero
                      00041                                 #define         toif    INTCON,2                ; indikace preteceni TMR
                            0
                      00042                                 #define     toie        INTCON,5                ; spusteni TMR0
                      00043                                 #define         gie             INTCON,7
                      00044 
                      00045                                 #define         indbzuc         pombity,7       ; identifikace rovnosti 
                            budiku s casem
                      00046                                 #define         bzucak          PORTC,2 
                      00047                                 #define         led                     PORTB,3
                      00048                                 #define         pled            pombity,6       ; zaloha stavu led
                      00049                                 #define         rezim           pombity,5       ; rezim zobrazeni(cas x 
                            budik)
                      00050 ; new; new
                      00051                                 #define         t1if            PIR1,TMR1IF
0000                  00052                                 org             0000h
0000   2851           00053                                 goto    start
                      00054 ;       ........................................................................
                      00055 ;       preruseni
0004                  00056                                 org     0004h
0004   082B           00057                                 movf    wreg,W
                      00058 
0005   1D0B           00059                                 btfss   toif
0006   281F           00060                                 goto    TMR1
                      00061 ; preruseni pro TMR0    
0007   110B           00062                                 bcf             toif                    ; vynulovani bitu toif
0008   00AB           00063                                 movwf   wreg
0009   3001           00064                                 movlw   01h
000A   0081           00065                                 movwf   TMR0
                      00066 
000B   208F           00067                                 call    displej
                      00068 
000C   0AA8           00069                                 incf    sec,F                   ; pricte 1 k registrucitace sekund
000D   30C8           00070                                 movlw   0c8h
000E   0228           00071                                 subwf   sec,w                   ; odecte od sec 200 a ulozi do W
MPASM 03.70 Released                                POKUS.ASM   5-1-2006  18:07:54         PAGE  3


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

000F   1D03           00072                                 btfss   z                               ; je-li z=1, registr sec neprete
                            kl
0010   281D           00073                                 goto    pkonec
                      00074 
                      00075                                 
0011   3008           00076                                 movlw   d'8'
0012   00AA           00077                                 movwf   pre2
0013   0000           00078                                 nop
0014   0000           00079                                 nop
0015   30E9           00080 pr1:                    movlw   d'233'
0016   00A9           00081                                 movwf   pre1
0017   0000           00082                                 nop
Message[305]: Using default destination of 1 (file).
0018   0BA9           00083 pr0:                    decfsz  pre1
0019   2818           00084                                 goto    pr0
Message[305]: Using default destination of 1 (file).
001A   0BAA           00085                                 decfsz  pre2
001B   2815           00086                                 goto    pr1
                      00087 
001C   20BB           00088                                 call    couter
                      00089 
                      00090 ; spolecny konec preruseni
Message[305]: Using default destination of 1 (file).
001D   08AB           00091 pkonec:                 movf    wreg
001E   0009           00092                                 retfie  
                      00093 ; ??????????????????????????????????????????????????????????????????????????????
                      00094 ; preruseni pro TMR1
001F   0808           00095 TMR1:                   movf    PORTD,W
0020   00B1           00096                                 movwf   pred                    ; zaloha PORTD
0021   30FF           00097                                 movlw   0ffh
0022   00B0           00098                                 movwf   port
                      00099                 ; sdileni
0023   1683           00100                                 bsf             rp0
                      00101 
0024   30FF           00102                                 movlw   0ffh
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0025   0088           00103                                 movwf   TRISD                   ; PORTD jako vstup
                      00104 
0026   1283           00105                                 bcf             rp0
0027   1C08           00106                                 btfss   PORTD,0
0028   1030           00107                                 bcf             port,0
0029   1C88           00108                                 btfss   PORTD,1
002A   10B0           00109                                 bcf             port,1
002B   1D08           00110                                 btfss   PORTD,2
002C   1130           00111                                 bcf             port,2
002D   1D88           00112                                 btfss   PORTD,3
002E   11B0           00113                                 bcf             port,3
002F   1683           00114                                 bsf             rp0
                      00115 
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0030   0188           00116                                 clrf    TRISD                   ; PORTD jako vystup
                      00117         
0031   1283           00118                                 bcf             rp0
MPASM 03.70 Released                                POKUS.ASM   5-1-2006  18:07:54         PAGE  4


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00119                 ; konec sdileni         
0032   0831           00120                                 movf    pred,W
0033   0088           00121                                 movwf   PORTD                   ; obnova PORTD
                      00122                 
0034   1C30           00123                                 btfss   port,0
0035   20F1           00124                                 call    hodiny
                      00125 
0036   1CB0           00126                                 btfss   port,1
0037   20E3           00127                                 call    minuty
                      00128 
0038   1D30           00129                                 btfss   port,2
0039   203F           00130                                 call    ledka
                      00131 
003A   1DB0           00132                                 btfss   port,3
003B   2048           00133                                 call    rezimset                                
                      00134 
003C   018F           00135                                 clrf    TMR1H
003D   100C           00136                                 bcf             t1if
                      00137 
003E   281D           00138                                 goto    pkonec
                      00139 ; ??????????????????????????????????????????????????????????????????????????????
003F   1D86           00140 ledka:                  btfss   led
0040   2844           00141                                 goto    rozsvit
0041   1986           00142                                 btfsc   led
0042   2846           00143                                 goto    zhasni
0043   0008           00144 ledkon:                 return
                      00145 
0044   1586           00146 rozsvit:                bsf             led
0045   2843           00147                                 goto    ledkon
                      00148 
0046   1186           00149 zhasni:                 bcf             led
0047   2843           00150                                 goto    ledkon
                      00151 ; ---------------------------------------------------
0048   1EA1           00152 rezimset:               btfss   rezim
0049   284D           00153                                 goto    rezims
004A   1AA1           00154                                 btfsc   rezim
004B   284F           00155                                 goto    rezimc
004C   0008           00156 rezimend:               return
                      00157 
004D   16A1           00158 rezims:                 bsf             rezim
004E   284C           00159                                 goto    rezimend
                      00160 
004F   12A1           00161 rezimc:                 bcf             rezim
0050   284C           00162                                 goto    rezimend                                
                      00163 ;       ................................................................................................
                            ..
                      00164 ;       Inicializace portu
                      00165 ;       ................................................................................................
                            ..
                      00166 
Warning[207]: Found label after column 1. (start)
0051   1683           00167   start:        bsf     rp0                             ; nastaveni BANKY1 - STATUS(RP0)
                      00168                         
MPASM 03.70 Released                                POKUS.ASM   5-1-2006  18:07:54         PAGE  5


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0052   3000           00169                                 movlw   B'00000000'
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0053   0088           00170                                 movwf   TRISD                   ; portD je vystup
0054   30E0           00171                                 movlw   b'11100000'             ; nastaveni anod displeje B0,B1,B2,B3 ja
                            ko vystupu
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0055   0086           00172                                 movwf   TRISB   
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0056   1107           00173                                 bcf             TRISC,2                 ; bzucak jako vystup    
0057   30D3           00174                                 movlw   B'11010011'
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0058   0081           00175                                 movwf   OPTION_REG              ; konfigurace TMR0 a preddelicky
0059   168B           00176                                 bsf     toie                    ; povoleni preruseni od TMR0
                      00177 ; -----------------------------------------------------------------------------
                      00178 ; new
005A   170B           00179                                 bsf             INTCON,PEIE             ; povoleni preruseni od periferi
                            i
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
005B   140C           00180                                 bsf             PIE1,TMR1IE             ; povoleni preruseni od tmr1
                      00181 ; -----------------------------------------------------------------------------
005C   178B           00182                                 bsf             gie                             ; povoleni globalniho pr
                            eruseni
                      00183 
005D   1283           00184                                 bcf     rp0                             ; nastaveni BANKY0 - STATUS(RP0)
005E   30FF           00185                                 movlw   0ffh
005F   0088           00186                                 movwf   PORTD                   ; zhasne vsechny segmenty
                      00187 
0060   01A3           00188                                 clrf    disp1                   ; vynuluje registr disp1
0061   01A5           00189                                 clrf    disp2                   ; vynuluje registr disp2
0062   01A4           00190                                 clrf    disp3                   ; vynuluje registr disp3
0063   01A6           00191                                 clrf    disp4                   ; vynuluje registr disp4
0064   01A7           00192                                 clrf    pordisp                 ; vynulovani poradi displeje
0065   01A8           00193                                 clrf    sec                             ; vynulovani citace sekund
0066   01A2           00194                                 clrf    vteriny                 ; vynuluje registr vteriny
                      00195 
0067   1586           00196                                 bsf     led
                      00197 
0068   3001           00198                                 movlw   1h
0069   00B3           00199                                 movwf   budik1
006A   01B4           00200                                 clrf    budik2
006B   01B5           00201                                 clrf    budik3
006C   01B6           00202                                 clrf    budik4
                      00203 ; ------------------------------------------------------------------------------        
                      00204 ; new   
006D   018E           00205                                 clrf    TMR1L                    
006E   018F           00206                                 clrf    TMR1H
006F   01B0           00207                                 clrf    port
0070   01B1           00208                                 clrf    pred
0071   3003           00209                                 movlw   d'3'
0072   00B2           00210                                 movwf   cekani                  ; prodlouzeni TMR1
0073   3001           00211                                 movlw   b'00000001'             ; spusteni TMR1
0074   0090           00212                                 movwf   T1CON   
                      00213 ;       ................................................................................................
MPASM 03.70 Released                                POKUS.ASM   5-1-2006  18:07:54         PAGE  6


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                            ..
0075   1D86           00214 hlprog:                 btfss   led                             ; test na zapnuti
0076   2875           00215                                 goto    hlprog
                      00216                                 
0077   2107           00217                                 call    porovnej        
0078   1BA1           00218                                 btfsc   indbzuc                 ; test na rovnost
0079   287B           00219                                 goto    sirena
                      00220 
007A   2875           00221                                 goto    hlprog  
                      00222 
Warning[202]: Argument out of range.  Least significant bits used.
007B   3055           00223 sirena:                 movlw   255h
007C   00AF           00224                                 movwf   pom2
007D   30FF           00225 s3:                             movlw   0ffh
007E   00AE           00226                                 movwf   pom
Message[305]: Using default destination of 1 (file).
007F   0BAE           00227 s2:                             decfsz  pom
0080   287F           00228                                 goto    s2
Message[305]: Using default destination of 1 (file).
0081   0BAF           00229                                 decfsz  pom2
0082   287D           00230                                 goto    s3
0083   1107           00231 s1:                             bcf             bzucak
0084   208A           00232                                 call    zpozdeni
0085   1507           00233                                 bsf             bzucak
0086   208A           00234                                 call    zpozdeni
Message[305]: Using default destination of 1 (file).
0087   0BAC           00235                                 decfsz  reg2
0088   2883           00236                                 goto    s1
0089   2875           00237                                 goto    hlprog
                      00238 
008A   3050           00239 zpozdeni:               movlw   50h
008B   00AD           00240                                 movwf   reg1
Message[305]: Using default destination of 1 (file).
008C   0BAD           00241 cyk1:                   decfsz  reg1
008D   288C           00242                                 goto    cyk1
008E   0008           00243                                 return                                  ; skoci na zacatek smycky
                      00244 ;       ................................................................................................
                            ..
Warning[205]: Found directive in column 1. (include)
                      00245 include "d:\rp\displayled.asm"
                      00001 ; podprogramy pro vyuziti displaye
                      00002 ;       zobrazoje obsah registru 23,24,25,26 na LED zobrazovacich
                      00003 ;       dale vyuziva registry(nutne deklarovat): pordisp,FSR,PORTB,INDF,STATUS
                      00004 
008F   1321           00005 displej:                bcf             pled                    ; pomocny bit pled vynuluj
0090   1986           00006                                 btfsc   led                             ; nesviti led? skoc
0091   1721           00007                                 bsf             pled                    ; sviti led nastav pled na 1
                      00008 
0092   3023           00009                                 movlw   23h                             ; nacte adresu disp1
0093   0727           00010                                 addwf   pordisp,0               ; 23h + portdisp ulozi do stradace
0094   0084           00011                                 movwf   FSR                             ; nastaveni neprime adresy
0095   3017           00012                                 movlw   B'00010111'
0096   0086           00013                                 movwf   PORTB                   ; zhasnuti anod                 
MPASM 03.70 Released                                POKUS.ASM   5-1-2006  18:07:54         PAGE  7


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0097   0800           00014                                 movf    INDF,0                  ; nacteni hodnoty - neprime adresovani
                      00015 
0098   20A5           00016                                 call    segment                 ; dekodovani binarniho cisla na sedmiseg
                            mentovy kod
0099   0088           00017                                 movwf   PORTD
                      00018 
009A   0827           00019                                 movf    pordisp,0               
009B   20B6           00020                                 call    anoda                   ; aktivuje prislusnou anodu
009C   0086           00021                                 movwf   PORTB                   ; aktivuje spravny display, zhasne led
                      00022                                 
009D   1B21           00023                                 btfsc   pled
009E   1586           00024                                 bsf             led                             ; pokud led sviti rozsvi
                            t ji
                      00025                                 
009F   0AA7           00026                                 incf    pordisp,1               ; zvysi obsah pordisp o 1
00A0   3004           00027                                 movlw   4
00A1   0227           00028                                 subwf   pordisp,0               ; kontroluje zda byly zobrazeny vsechny 
                            ctyri znaky
00A2   1903           00029                                 btfsc   STATUS,2
00A3   01A7           00030                                 clrf    pordisp                 ; pokud ano vynuluje pocitadlo
00A4   0008           00031                                 return
                      00032 ;       ................................................................................................
                            ..
                      00033 ;       podprogram segment
00A5   0782           00034 segment:                addwf   PCL,1
00A6   34C0           00035                                 RETLW   B'11000000'             ;0
00A7   34F9           00036                                 RETLW   B'11111001'             ;1
00A8   34A4           00037                                 RETLW   B'10100100'             ;2
00A9   34B0           00038                                 RETLW   B'10110000'             ;3
00AA   3499           00039                                 RETLW   B'10011001'             ;4
00AB   3492           00040                                 RETLW   B'10010010'             ;5
00AC   3482           00041                                 RETLW   B'10000010'             ;6
00AD   34F8           00042                                 RETLW   B'11111000'             ;7
00AE   3480           00043                                 RETLW   B'10000000'             ;8
00AF   3490           00044                                 RETLW   B'10010000'             ;9
00B0   3488           00045                                 RETLW   B'10001000'             ;A
00B1   3483           00046                                 RETLW   B'10000011'             ;B
00B2   34C6           00047                                 RETLW   B'11000110'             ;C
00B3   34A1           00048                                 RETLW   B'10100001'             ;D
00B4   3486           00049                                 RETLW   B'10000110'             ;E
00B5   348E           00050                                 RETLW   B'10001110'             ;F
                      00051 ;       ................................................................................................
                            ..
                      00052 ;       podprogram anoda
00B6   0782           00053 anoda:                  addwf   PCL,1
00B7   3416           00054                                 retlw   B'00010110'             ;1 znak displeje
00B8   3413           00055                                 retlw   B'00010011'             ;3 znak displeje
00B9   3415           00056                                 retlw   B'00010101'             ;2 znak displeje
00BA   3407           00057                                 retlw   B'00000111'             ;4 znak displeje
                      00058 ;       ................................................................................................
                            ..
Warning[205]: Found directive in column 1. (include)
                      00246 include "d:\rp\coutery.asm"
MPASM 03.70 Released                                POKUS.ASM   5-1-2006  18:07:54         PAGE  8


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00001 ; podprogramy citani
                      00002 ;       nutno deklarovat registry: sec,vteriny,disp1,disp2,disp3,disp4
                      00003 ;       pouzite zarazky: couter,minuty,hodiny
                      00004 ;       nepouzitelne zarazky: adr4,adr5,adr3,m1,h1,h2,h3
                      00005 
                      00006 ;       podprogram couter
00BB   01A8           00007 couter:                 clrf    sec                             ; vynuluje reg sec
00BC   0AA2           00008                                 incf    vteriny,F               ; pricte 1 k registru disp_0 - SUKUNDY
00BD   303C           00009                                 movlw   3ch
00BE   0222           00010                                 subwf   vteriny,W               ; odecte od vterin sedesat a ulozi do W
00BF   1C03           00011                                 btfss   c                               ; je-li z=1, disp_0 pretekl pres
                             9
00C0   28E2           00012                                 goto    adr3
                      00013 
00C1   01A2           00014                                 clrf    vteriny
00C2   0AA3           00015                                 incf    disp1,F                 ; pricte 1 k registru disp1 - MINUTY
00C3   300A           00016                                 movlw   0ah
00C4   0223           00017                                 subwf   disp1,W                 ; odecte od disp1 desitku a ulozi do W
00C5   1D03           00018                                 btfss   z                               ; je-li c=1, disp1 pretekl pres 
                            9
00C6   28E2           00019                                 goto    adr3
                      00020 
00C7   01A3           00021                                 clrf    disp1
00C8   0AA5           00022                                 incf    disp2,F                 ; pricte 1 k registru disp2 - DESITKY MI
                            NUT
00C9   3006           00023                                 movlw   6h
00CA   0225           00024                                 subwf   disp2,W                 ; odecte od disp2 desitku a ulozi do W
00CB   1D03           00025                                 btfss   z                               ; je-li c=1, disp2 pretekl pres 
                            5
00CC   28E2           00026                                 goto    adr3
                      00027 
00CD   01A5           00028                                 clrf    disp2
00CE   0AA4           00029                                 incf    disp3,f                 ; pricte 1 k registru disp3 - HODINY
00CF   3004           00030                                 movlw   4h                              
00D0   0224           00031                                 subwf   disp3,w
00D1   1D03           00032                                 btfss   z                               ; je disp3 vetsi nez 3?
00D2   28D7           00033                                 goto    adr4                    ; ne
                      00034 
00D3   3002           00035                                 movlw   2h                              ; ano
00D4   0226           00036                                 subwf   disp4,w                 ; pokud ano tak je disp4 vetsi nez 1?
00D5   1903           00037                                 btfsc   z                               ; 
00D6   28DB           00038                                 goto    adr5                    ; ano 
                      00039 
00D7   300A           00040 adr4                    movlw   0ah                             ; ne
00D8   0224           00041                                 subwf   disp3,w                 ; odecte od disp3 desitku a ulozi do W
00D9   1D03           00042                                 btfss   z                               ; je-li c=1, disp3 pretekl pres 
                            9
00DA   28E2           00043                                 goto    adr3
                      00044 
00DB   01A4           00045 adr5:                   clrf    disp3
00DC   0AA6           00046                                 incf    disp4,f                 ; pricte 1 k registru disp4 - DESITKY HO
                            DIN
00DD   3003           00047                                 movlw   3h
MPASM 03.70 Released                                POKUS.ASM   5-1-2006  18:07:54         PAGE  9


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00DE   0226           00048                                 subwf   disp4,w                 ; odecte od disp4 desitku a ulozi do W
00DF   1D03           00049                                 btfss   z                               ; je-li c=1, disp4 pretekl pres 
                            9
00E0   28E2           00050                                 goto    adr3
00E1   01A6           00051                                 clrf    disp4
00E2   0008           00052 adr3:                   return
                      00053 ; ------------------------------------------------------------------------------------
00E3   01A2           00054 minuty:                 clrf    vteriny
                      00055 
00E4   0AA3           00056                                 incf    disp1,F                 ; pricte 1 k registru disp1 - MINUTY
00E5   300A           00057                                 movlw   0ah
00E6   0223           00058                                 subwf   disp1,W                 ; odecte od disp1 desitku a ulozi do W
00E7   1D03           00059                                 btfss   z                               ; je-li c=1, disp1 pretekl pres 
                            9
00E8   28F0           00060                                 goto    m1
                      00061 
00E9   01A3           00062                                 clrf    disp1
00EA   0AA5           00063                                 incf    disp2,F                 ; pricte 1 k registru disp2 - DESITKY MI
                            NUT
00EB   3006           00064                                 movlw   6h
00EC   0225           00065                                 subwf   disp2,W                 ; odecte od disp2 desitku a ulozi do W
00ED   1D03           00066                                 btfss   z                               ; je-li c=1, disp2 pretekl pres 
                            5
00EE   28F0           00067                                 goto    m1
                      00068 
00EF   01A5           00069                                 clrf    disp2
00F0   0008           00070 m1:                     return
                      00071 ; ------------------------------------------------------------------------------
00F1   01A2           00072 hodiny:                 clrf    vteriny
                      00073 
00F2   0AA4           00074                                 incf    disp3,F                 ; pricte 1 k registru disp3 - HODINY
00F3   3004           00075                                 movlw   4h                              
00F4   0224           00076                                 subwf   disp3,W
00F5   1D03           00077                                 btfss   z                               ; je disp3 vetsi nez 3?
00F6   28FB           00078                                 goto    h2                              ; ne
                      00079 
00F7   3002           00080                                 movlw   2h                              ; ano
00F8   0226           00081                                 subwf   disp4,W                 ; pokud ano tak je disp4 vetsi nez 1?
00F9   1903           00082                                 btfsc   z                               ; 
00FA   28FF           00083                                 goto    h3                              ; ano 
                      00084 
00FB   300A           00085 h2:                             movlw   0ah                             ; ne
00FC   0224           00086                                 subwf   disp3,W                 ; odecte od disp3 desitku a ulozi do W
00FD   1D03           00087                                 btfss   z                               ; je-li c=1, disp3 pretekl pres 
                            9
00FE   2906           00088                                 goto    h1
                      00089 
00FF   01A4           00090 h3:                             clrf    disp3
0100   0AA6           00091                                 incf    disp4,F                 ; pricte 1 k registru disp4 - DESITKY HO
                            DIN
0101   3003           00092                                 movlw   3h
0102   0226           00093                                 subwf   disp4,W                 ; odecte od disp4 desitku a ulozi do W
0103   1D03           00094                                 btfss   z                               ; je-li c=1, disp4 pretekl pres 
MPASM 03.70 Released                                POKUS.ASM   5-1-2006  18:07:54         PAGE 10


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                            9
0104   2906           00095                                 goto    h1
0105   01A6           00096                                 clrf    disp4
0106   0008           00097 h1:                     return
                      00247 ;       ................................................................................................
                            ..
                      00248 ; ***************************************************************************************
0107   0833           00249 porovnej:               movf    budik1,W
0108   0223           00250                                 subwf   disp1,W
0109   1D03           00251                                 btfss   z
010A   2919           00252                                 goto    endpor1                 ; nerovno -skoc a nastava indbzuc na 0
                      00253 
010B   0834           00254                                 movf    budik2,W
010C   0225           00255                                 subwf   disp2,W
010D   1D03           00256                                 btfss   z
010E   2919           00257                                 goto    endpor1                 ; nerovno -skoc a nastava indbzuc na 0
                      00258                                 
010F   0835           00259                                 movf    budik3,W
0110   0224           00260                                 subwf   disp3,W
0111   1D03           00261                                 btfss   z
0112   2919           00262                                 goto    endpor1                 ; nerovno -skoc a nastava indbzuc na 0
                      00263 
0113   0836           00264                                 movf    budik4,W
0114   0226           00265                                 subwf   disp4,W
0115   1D03           00266                                 btfss   z
0116   2919           00267                                 goto    endpor1                 ; nerovno -skoc a nastava indbzuc na 0
                      00268                                 
0117   17A1           00269                                 bsf             indbzuc                 ; rovno nastav indbzuc na 1
0118   291A           00270                                 goto    endpor2                 ; preskoc vynulovani indbzuc
                      00271 
0119   13A1           00272 endpor1:                bcf             indbzuc                 ; vynuluj indbzuc
                      00273                                 
011A   0008           00274 endpor2:        return                          
                      00275 
                      00276                                 end
MPASM 03.70 Released                                POKUS.ASM   5-1-2006  18:07:54         PAGE 11


SYMBOL TABLE
  LABEL                             VALUE 

ACKDT                             00000005
ACKEN                             00000004
ACKSTAT                           00000006
ADCON0                            0000001F
ADCON1                            0000009F
ADCS0                             00000006
ADCS1                             00000007
ADDEN                             00000003
ADFM                              00000007
ADIE                              00000006
ADIF                              00000006
ADON                              00000000
ADRESH                            0000001E
ADRESL                            0000009E
BCLIE                             00000003
BCLIF                             00000003
BF                                00000000
BRGH                              00000002
C                                 00000000
C1INV                             00000004
C1OUT                             00000006
C2INV                             00000005
C2OUT                             00000007
CCP1CON                           00000017
CCP1IE                            00000002
CCP1IF                            00000002
CCP1M0                            00000000
CCP1M1                            00000001
CCP1M2                            00000002
CCP1M3                            00000003
CCP1X                             00000005
CCP1Y                             00000004
CCP2CON                           0000001D
CCP2IE                            00000000
CCP2IF                            00000000
CCP2M0                            00000000
CCP2M1                            00000001
CCP2M2                            00000002
CCP2M3                            00000003
CCP2X                             00000005
CCP2Y                             00000004
CCPR1H                            00000016
CCPR1L                            00000015
CCPR2H                            0000001C
CCPR2L                            0000001B
CHS0                              00000003
CHS1                              00000004
CHS2                              00000005
CIS                               00000003
CKE                               00000006
CKP                               00000004
CM0                               00000000
CM1                               00000001
MPASM 03.70 Released                                POKUS.ASM   5-1-2006  18:07:54         PAGE 12


SYMBOL TABLE
  LABEL                             VALUE 

CM2                               00000002
CMCON                             0000009C
CMIE                              00000006
CMIF                              00000006
CREN                              00000004
CSRC                              00000007
CVR0                              00000000
CVR1                              00000001
CVR2                              00000002
CVR3                              00000003
CVRCON                            0000009D
CVREN                             00000007
CVROE                             00000006
CVRR                              00000005
D                                 00000005
DATA_ADDRESS                      00000005
DC                                00000001
D_A                               00000005
EEADR                             0000010D
EEADRH                            0000010F
EECON1                            0000018C
EECON2                            0000018D
EEDATA                            0000010C
EEDATH                            0000010E
EEIE                              00000004
EEIF                              00000004
EEPGD                             00000007
F                                 00000001
FERR                              00000002
FSR                               00000004
GCEN                              00000007
GIE                               00000007
GO                                00000002
GO_DONE                           00000002
I2C_DATA                          00000005
I2C_READ                          00000002
I2C_START                         00000003
I2C_STOP                          00000004
IBF                               00000007
IBOV                              00000005
INDF                              00000000
INTCON                            0000000B
INTE                              00000004
INTEDG                            00000006
INTF                              00000001
IRP                               00000007
NOT_A                             00000005
NOT_ADDRESS                       00000005
NOT_BO                            00000000
NOT_BOR                           00000000
NOT_DONE                          00000002
NOT_PD                            00000003
NOT_POR                           00000001
MPASM 03.70 Released                                POKUS.ASM   5-1-2006  18:07:54         PAGE 13


SYMBOL TABLE
  LABEL                             VALUE 

NOT_RBPU                          00000007
NOT_RC8                           00000006
NOT_T1SYNC                        00000002
NOT_TO                            00000004
NOT_TX8                           00000006
NOT_W                             00000002
NOT_WRITE                         00000002
OBF                               00000006
OERR                              00000001
OPTION_REG                        00000081
P                                 00000004
PCFG0                             00000000
PCFG1                             00000001
PCFG2                             00000002
PCFG3                             00000003
PCL                               00000002
PCLATH                            0000000A
PCON                              0000008E
PEIE                              00000006
PEN                               00000002
PIE1                              0000008C
PIE2                              0000008D
PIR1                              0000000C
PIR2                              0000000D
PORTA                             00000005
PORTB                             00000006
PORTC                             00000007
PORTD                             00000008
PORTE                             00000009
PR2                               00000092
PS0                               00000000
PS1                               00000001
PS2                               00000002
PSA                               00000003
PSPIE                             00000007
PSPIF                             00000007
PSPMODE                           00000004
R                                 00000002
RBIE                              00000003
RBIF                              00000000
RC8_9                             00000006
RC9                               00000006
RCD8                              00000000
RCEN                              00000003
RCIE                              00000005
RCIF                              00000005
RCREG                             0000001A
RCSTA                             00000018
RD                                00000000
READ_WRITE                        00000002
RP0                               00000005
RP1                               00000006
RSEN                              00000001
MPASM 03.70 Released                                POKUS.ASM   5-1-2006  18:07:54         PAGE 14


SYMBOL TABLE
  LABEL                             VALUE 

RX9                               00000006
RX9D                              00000000
R_W                               00000002
S                                 00000003
SEN                               00000000
SMP                               00000007
SPBRG                             00000099
SPEN                              00000007
SREN                              00000005
SSPADD                            00000093
SSPBUF                            00000013
SSPCON                            00000014
SSPCON2                           00000091
SSPEN                             00000005
SSPIE                             00000003
SSPIF                             00000003
SSPM0                             00000000
SSPM1                             00000001
SSPM2                             00000002
SSPM3                             00000003
SSPOV                             00000006
SSPSTAT                           00000094
STATUS                            00000003
SYNC                              00000004
T0CS                              00000005
T0IE                              00000005
T0IF                              00000002
T0SE                              00000004
T1CKPS0                           00000004
T1CKPS1                           00000005
T1CON                             00000010
T1INSYNC                          00000002
T1OSCEN                           00000003
T1SYNC                            00000002
T2CKPS0                           00000000
T2CKPS1                           00000001
T2CON                             00000012
TMR0                              00000001
TMR0IE                            00000005
TMR0IF                            00000002
TMR1                              0000001F
TMR1CS                            00000001
TMR1H                             0000000F
TMR1IE                            00000000
TMR1IF                            00000000
TMR1L                             0000000E
TMR1ON                            00000000
TMR2                              00000011
TMR2IE                            00000001
TMR2IF                            00000001
TMR2ON                            00000002
TOUTPS0                           00000003
TOUTPS1                           00000004
MPASM 03.70 Released                                POKUS.ASM   5-1-2006  18:07:54         PAGE 15


SYMBOL TABLE
  LABEL                             VALUE 

TOUTPS2                           00000005
TOUTPS3                           00000006
TRISA                             00000085
TRISB                             00000086
TRISC                             00000087
TRISD                             00000088
TRISE                             00000089
TRISE0                            00000000
TRISE1                            00000001
TRISE2                            00000002
TRMT                              00000001
TX8_9                             00000006
TX9                               00000006
TX9D                              00000000
TXD8                              00000000
TXEN                              00000005
TXIE                              00000004
TXIF                              00000004
TXREG                             00000019
TXSTA                             00000098
UA                                00000001
W                                 00000000
WCOL                              00000007
WR                                00000001
WREN                              00000002
WRERR                             00000003
Z                                 00000002
_BODEN_OFF                        00003FBF
_BODEN_ON                         00003FFF
_CPD_OFF                          00003FFF
_CPD_ON                           00003EFF
_CP_ALL                           00001FFF
_CP_OFF                           00003FFF
_DEBUG_OFF                        00003FFF
_DEBUG_ON                         000037FF
_HS_OSC                           00003FFE
_LP_OSC                           00003FFC
_LVP_OFF                          00003F7F
_LVP_ON                           00003FFF
_PWRTE_OFF                        00003FFF
_PWRTE_ON                         00003FF7
_RC_OSC                           00003FFF
_WDT_OFF                          00003FFB
_WDT_ON                           00003FFF
_WRT_1FOURTH                      00003BFF
_WRT_256                          00003DFF
_WRT_HALF                         000039FF
_WRT_OFF                          00003FFF
_XT_OSC                           00003FFD
__16F877A                         00000001
adr3                              000000E2
adr4                              000000D7
adr5                              000000DB
MPASM 03.70 Released                                POKUS.ASM   5-1-2006  18:07:54         PAGE 16


SYMBOL TABLE
  LABEL                             VALUE 

anoda                             000000B6
budik1                            00000033
budik2                            00000034
budik3                            00000035
budik4                            00000036
bzucak                            PORTC,2
c                                 STATUS,0
cekani                            00000032
couter                            000000BB
cyk1                              0000008C
disp1                             00000023
disp2                             00000025
disp3                             00000024
disp4                             00000026
displej                           0000008F
endpor1                           00000119
endpor2                           0000011A
gie                               INTCON,7
h1                                00000106
h2                                000000FB
h3                                000000FF
hlprog                            00000075
hodiny                            000000F1
indbzuc                           pombity,7
led                               PORTB,3
ledka                             0000003F
ledkon                            00000043
m1                                000000F0
minuty                            000000E3
pkonec                            0000001D
pled                              pombity,6
pom                               0000002E
pom2                              0000002F
pombity                           00000021
pordisp                           00000027
porovnej                          00000107
port                              00000030
pr0                               00000018
pr1                               00000015
pre1                              00000029
pre2                              0000002A
pred                              00000031
reg1                              0000002D
reg2                              0000002C
rezim                             pombity,5
rezimc                            0000004F
rezimend                          0000004C
rezims                            0000004D
rezimset                          00000048
rozsvit                           00000044
rp0                               STATUS,5
s1                                00000083
s2                                0000007F
MPASM 03.70 Released                                POKUS.ASM   5-1-2006  18:07:54         PAGE 17


SYMBOL TABLE
  LABEL                             VALUE 

s3                                0000007D
sec                               00000028
segment                           000000A5
sirena                            0000007B
start                             00000051
t1if                              PIR1,TMR1IF
toie                              INTCON,5
toif                              INTCON,2
vteriny                           00000022
wreg                              0000002B
z                                 STATUS,2
zhasni                            00000046
zpozdeni                          0000008A


MEMORY USAGE MAP ('X' = Used,  '-' = Unused)

0000 : X---XXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0040 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0080 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
00C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0100 : XXXXXXXXXXXXXXXX XXXXXXXXXXX----- ---------------- ----------------
2000 : -------X-------- ---------------- ---------------- ----------------

All other memory blocks unused.

Program Memory Words Used:   280
Program Memory Words Free:  7912


Errors   :     0
Warnings :    26 reported,     0 suppressed
Messages :    14 reported,     0 suppressed

